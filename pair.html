<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>X5-MD ‚Ä¢ Pair Code</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Inter',sans-serif;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#e6f0ff 0%,#ffffff 100%);
}

/* CARD */
.wrapper{
  width:100%;
  max-width:440px;
  padding:20px;
}

.card{
  background:#fff;
  border-radius:24px;
  padding:40px 30px;
  text-align:center;
  box-shadow:0 30px 70px rgba(0,0,0,0.08);
  position:relative;
}

/* LOGO */
.logo{
  width:95px;
  height:95px;
  border-radius:22px;
  object-fit:cover;
  margin-bottom:20px;
  box-shadow:0 12px 30px rgba(0,0,0,0.15);
}

/* TEXT */
h1{
  font-size:26px;
  font-weight:700;
  margin-bottom:6px;
}

.subtitle{
  font-size:14px;
  color:#6b7280;
  margin-bottom:25px;
}

/* INPUT */
input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  margin-bottom:15px;
  font-size:14px;
  outline:none;
  transition:.2s;
}

input:focus{
  border-color:#0072ff;
  box-shadow:0 0 0 3px rgba(0,114,255,.15);
}

/* BUTTON */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(135deg,#00c6ff,#0072ff);
  color:white;
  transition:.25s;
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 25px rgba(0,114,255,0.35);
}

/* RESULT */
.result{
  margin-top:15px;
  padding:12px;
  border-radius:12px;
  background:#f3f4f6;
  font-weight:600;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
}

/* SOCIALS */
.socials{
  margin-top:25px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.socials a{
  text-decoration:none;
  font-size:13px;
  font-weight:600;
  padding:10px;
  border-radius:10px;
  background:#f9fafb;
  color:#111827;
  transition:.2s;
  text-align:center;
}

.socials a:hover{
  background:#e5e7eb;
}

.footer{
  margin-top:25px;
  font-size:12px;
  color:#9ca3af;
}

/* LOADER */
.loader{
  position:fixed;
  inset:0;
  background:white;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:999;
  display:none;
}

.loader img{
  width:120px;
  border-radius:20px;
  margin-bottom:20px;
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%{transform:scale(1);opacity:1}
  50%{transform:scale(1.05);opacity:.7}
  100%{transform:scale(1);opacity:1}
}
</style>
</head>
<body>

<div class="wrapper">
  <div class="card">

    <img src="https://o.uguu.se/eTvkJDeN.jpg" class="logo" alt="X5-MD Logo">

    <h1>X5-MD Pair Code</h1>
    <div class="subtitle">Enter your WhatsApp number to generate pairing code</div>

    <!-- INPUT -->
    <input type="text" id="number" placeholder="234XXXXXXXXXX">

    <!-- BUTTON -->
    <button onclick="generatePair()">Generate Pair Code</button>

    <!-- RESULT -->
    <div class="result" id="resultBox" style="display:none;">
      <span id="pairCode"></span>
      <button id="copyBtn" style="display:none;">Copy</button>
    </div>

    <!-- SOCIALS -->
    <div class="socials">
      <a href="https://github.com/Neaterry6" target="_blank">üêô GitHub</a>
      <a href="https://t.me/BrokenVzn" target="_blank">üì® Telegram</a>
      <a href="https://whatsapp.com/channel/0029VbCPTCQ0bIdfkkE4cg0L" target="_blank">üì¢ WA Channel</a>
      <a href="https://chat.whatsapp.com/FEcIqQ8blnR7sr1oZ3Nqh6?mode=gi_t" target="_blank">üë• WA Group</a>
      <a href="https://youtube.com/@brokenvzn-s7s?si=i7Z0reIsrrgXM08v" target="_blank" style="grid-column:span 2;background:#ffe5e5;">‚ñ∂ YouTube</a>
    </div>

    <div class="footer">
      ¬© 2026 X5-MD ‚Ä¢ Broken Vzn
    </div>
  </div>
</div>

<!-- LOADER -->
<div class="loader" id="loader">
  <img src="https://i.ibb.co/4f0gL4H/loader.gif" alt="Loading...">
  <div>Generating your pairing code...</div>
</div>

<!-- SCRIPTS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
<script>
async function generatePair() {
  const input = document.getElementById('number');
  const resultBox = document.getElementById('resultBox');
  const pairCodeSpan = document.getElementById('pairCode');
  const copyBtn = document.getElementById('copyBtn');
  const loader = document.getElementById('loader');
  const number = input.value.replace(/\D/g,'');

  if (!number) {
    resultBox.style.display = 'flex';
    pairCodeSpan.innerText = 'Please enter a valid phone number!';
    pairCodeSpan.style.color = 'red';
    copyBtn.style.display = 'none';
    return;
  }

  loader.style.display = 'flex';
  resultBox.style.display = 'none';
  copyBtn.style.display = 'none';

  try {
    const res = await axios(`/code?number=${number}`);
    const code = res.data.code || 'Service Unavailable';
    pairCodeSpan.innerText = `Your Pair Code: ${code}`;
    pairCodeSpan.style.color = '#000';
    resultBox.style.display = 'flex';
    copyBtn.style.display = 'inline-block';
  } catch (err) {
    pairCodeSpan.innerText = 'Failed to generate pair code!';
    pairCodeSpan.style.color = 'red';
    resultBox.style.display = 'flex';
    copyBtn.style.display = 'none';
  } finally {
    loader.style.display = 'none';
  }
}

// COPY BUTTON LOGIC
document.getElementById('copyBtn').addEventListener('click', () => {
  const code = document.getElementById('pairCode').innerText.replace('Your Pair Code: ','');
  navigator.clipboard.writeText(code)
    .then(() => alert('Copied to clipboard!'))
    .catch(() => alert('Failed to copy!'));
});
</script>

</body>
</html>